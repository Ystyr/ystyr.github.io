<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="styles/theme888.css">
<head>
	<title>Ysryr</title>
	<script src="scripts/mouseUtils.js"></script>
	<script src="scripts/shadersSrcs.js"></script>
	<script src="scripts/webGLRender.js"></script>
	<script>
	function titleRender () {
		const canvassHello = document.getElementById('title');
		const wglRend = new webGLRender(
			canvassHello, shaderSrc.commonVert, 
			shaderSrc.titleFrag, "https://ystyr.github.io/data/textures/sdfFont.png"
		);
		let activeCanvas;
		canvassHello.onmouseover = () => activeCanvas = canvassHello;
		canvassHello.onmouseout = () => activeCanvas = undefined;
		wglRend.setMousePosGetter(() => {
			const nFunc = (func, v) => func(v) * .4 + .4;
			const n_sin = t => nFunc(Math.sin, t);
			const n_cos = t => nFunc(Math.cos, t);
			const time = wglRend.then;
			const width = canvassHello.clientWidth;
			const height = canvassHello.clientHeight;
			const fakeMsePos = [n_sin(time) * width, n_cos(time) * height - height * .5];
			const msePos = [canvMousePos[0] * .5, canvMousePos[1] * .5];
			return activeCanvas? msePos: fakeMsePos;
		});
		wglRend.play(0);
	}
	function onLoad () {
		const horizontalLayoutManager = {
			currentPageIdx: 0,
			init: () => {
				const contrBtns = document.getElementsByClassName('layoutControl');
				const pages = document.getElementsByClassName('slidepage');
				const btnPrev = contrBtns[0];
				const btnNext = contrBtns[1];
				const disable = btn => {
					btn.enabled = false;
					btn.classList.add('disabled');
				};
				const enable = btn => {
					btn.enabled = true;
					btn.classList.remove('disabled');
				};
				const animatePages = (btn, idx, classInName, classOutName) => {
					if (! btn.enabled) return false;

					const currPage = pages[this.currentPageIdx];
					const nextPage = pages[idx];
					
					currPage.classList.add(classOutName);
					currPage.style.animationPlayState = 'running';
					
					nextPage.className = 'slidepage';
					nextPage.classList.add(classInName);
					nextPage.style.animationPlayState = 'running';
					nextPage.getAnimations()[0].onfinish = e => {
						nextPage.style.animationPlayState = 'paused';
						nextPage.className = 'slidepage';
					};	

					return true;

				} 
				const next = () => {
					const idx = this.currentPageIdx + 1;
					if (animatePages(btnNext, idx, 'slideRight', 'hideRight')) {
						if (idx == pages.length - 1) { 
							disable(btnNext);
						}
						if (idx == 1) {
							enable(btnPrev);
						}
					}
					this.currentPageIdx = idx;
				}
				const prev = () => {
					const idx = this.currentPageIdx - 1;
					if (animatePages(btnPrev, idx, 'slideLeft', 'hideLeft')) {
						if (idx == 0) { 
							disable(btnPrev);
						}
						if (idx == pages.length - 2) {
							enable(btnNext);
						}
					}
					this.currentPageIdx = idx;
				}
				this.currentPageIdx = 0;

				btnPrev.onclick = prev;
				disable(btnPrev);

				btnNext.enabled = true;
				btnNext.onclick = next; 
			}
		}
		horizontalLayoutManager.init();
		titleRender();

		const testImagesUrls = [
			"https://www.w3schools.com/howto/img_woods.jpg",
			"https://www.w3schools.com/howto/img_5terre.jpg",
			"https://www.w3schools.com/howto/img_mountains.jpg",
			"https://www.w3schools.com/howto/img_lights.jpg"
		]
		const slidepages = document.getElementsByClassName('slidepage');
		for (let i = 0; i < slidepages.length; i++) {
			const page = slidepages[i];
			const img = page.getElementsByTagName('img')[0];
			const canv = page.getElementsByTagName('canvas')[0];
			const ctx = canv.getContext('2d');
			page.classList.add('slideRight');
			canv.width = 600;
			canv.height = 400;
			ctx.drawImage(img, 0, 0);
			canv.onclick = () => {
				canv.classList.toggle('expand');
			};
		}
		slidepages[0].style.animationPlayState = 'running';
	}		
	</script>
</head>
<body onload=onLoad() style="max-width:1300px">
<div class="header">
	<img src="data/images/AlienDevice.jpg" alt="Image">
	<table style="width:80%; margin: auto;">
		<tr>
			<td><button><h2>About</h2></button></td>
			<td><button><h2>Works</h2></button></td>
			<!--<td><h1>Hello! I'm Alamak!</h1></td>-->
			<td><canvas id='title' onmousemove="updateCanvMouse(this, event)" width="460"></canvas></td>
			<td><button><h2>Resume</h2></button></td>
			<td><button><h2>TL;DR</h2></button></td>
		</tr>
	</table>
	<img src="data/textures/rust.jpg">
	<!--
	<img src="https://ystyr.github.io/data/textures/pebbles.png">
	<img src="https://ystyr.github.io/data/textures/dirt.jpg">
	<img src="https://ystyr.github.io/data/textures/cats.png">
	-->
</div>

<div class="about">
	<h1>About</h1>	
	<div class="horizontalLayout">	
		<div class="slidepage">	
			<img src="https://www.w3schools.com/howto/img_woods.jpg" hidden='true'>
			<canvas></canvas>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
				Integer a metus placerat, finibus elit at, interdum ipsum. 
				Class aptent taciti sociosqu ad litora torquent per conubia nostra, 
				per inceptos himenaeos. Nunc viverra aliquet nibh ac finibus. 
				Phasellus mollis massa tortor, vitae consequat turpis pellentesque a. 
				Praesent non viverra nunc. Fusce consequat ligula at pellentesque viverra. 
				Aliquam at massa urna. Cras vel lacus ullamcorper nunc pulvinar viverra sit amet a neque. 
				Suspendisse sed egestas mauris. Aenean laoreet dictum augue tempor porttitor. 
				Sed velit libero, venenatis et sagittis a, facilisis quis purus. 
				Phasellus imperdiet aliquet ante non fringilla. 
				Fusce pharetra nisi ut lacus placerat, sed porta nulla aliquet. 
				Ut consectetur odio et tincidunt rhoncus. 
				Curabitur aliquam in lacus eu lobortis. 
				Fusce ac laoreet nisl, eu pulvinar erat.
			</p>
		</div>
		<div class="slidepage">
			<img src="https://www.w3schools.com/howto/img_woods.jpg" hidden='true'>
			<canvas></canvas>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
				Integer a metus placerat, finibus elit at, interdum ipsum. 
				Class aptent taciti sociosqu ad litora torquent per conubia nostra, 
				per inceptos himenaeos. Nunc viverra aliquet nibh ac finibus. 
				Phasellus mollis massa tortor, vitae consequat turpis pellentesque a. 
				Praesent non viverra nunc. Fusce consequat ligula at pellentesque viverra. 
				Aliquam at massa urna. Cras vel lacus ullamcorper nunc pulvinar viverra sit amet a neque. 
				Suspendisse sed egestas mauris. Aenean laoreet dictum augue tempor porttitor. 
				Sed velit libero, venenatis et sagittis a, facilisis quis purus. 
				Phasellus imperdiet aliquet ante non fringilla. 
				Fusce pharetra nisi ut lacus placerat, sed porta nulla aliquet. 
				Ut consectetur odio et tincidunt rhoncus. 
				Curabitur aliquam in lacus eu lobortis. 
				Fusce ac laoreet nisl, eu pulvinar erat.
			</p>
		</div>
		<div class="slidepage">
			<img src="https://www.w3schools.com/howto/img_woods.jpg" hidden='true'>
			<canvas></canvas>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
				Integer a metus placerat, finibus elit at, interdum ipsum. 
				Class aptent taciti sociosqu ad litora torquent per conubia nostra, 
				per inceptos himenaeos. Nunc viverra aliquet nibh ac finibus. 
				Phasellus mollis massa tortor, vitae consequat turpis pellentesque a. 
				Praesent non viverra nunc. Fusce consequat ligula at pellentesque viverra. 
				Aliquam at massa urna. Cras vel lacus ullamcorper nunc pulvinar viverra sit amet a neque. 
				Suspendisse sed egestas mauris. Aenean laoreet dictum augue tempor porttitor. 
				Sed velit libero, venenatis et sagittis a, facilisis quis purus. 
				Phasellus imperdiet aliquet ante non fringilla. 
				Fusce pharetra nisi ut lacus placerat, sed porta nulla aliquet. 
				Ut consectetur odio et tincidunt rhoncus. 
				Curabitur aliquam in lacus eu lobortis. 
				Fusce ac laoreet nisl, eu pulvinar erat.
			</p>
		</div>
		<div class="slidepage">
			<img src="https://www.w3schools.com/howto/img_woods.jpg" hidden='true'>
			<canvas></canvas>
			<p>
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
				Integer a metus placerat, finibus elit at, interdum ipsum. 
				Class aptent taciti sociosqu ad litora torquent per conubia nostra, 
				per inceptos himenaeos. Nunc viverra aliquet nibh ac finibus. 
				Phasellus mollis massa tortor, vitae consequat turpis pellentesque a. 
				Praesent non viverra nunc. Fusce consequat ligula at pellentesque viverra. 
				Aliquam at massa urna. Cras vel lacus ullamcorper nunc pulvinar viverra sit amet a neque. 
				Suspendisse sed egestas mauris. Aenean laoreet dictum augue tempor porttitor. 
				Sed velit libero, venenatis et sagittis a, facilisis quis purus. 
				Phasellus imperdiet aliquet ante non fringilla. 
				Fusce pharetra nisi ut lacus placerat, sed porta nulla aliquet. 
				Ut consectetur odio et tincidunt rhoncus. 
				Curabitur aliquam in lacus eu lobortis. 
				Fusce ac laoreet nisl, eu pulvinar erat.
			</p>
		</div>
		<img src="data/images/arrowL.png" class="layoutControl"></img>
		<h1 style="opacity: 0;">EMPTY SPACE FILLER</h1>
		<img src="data/images/arrowR.png" class="layoutControl"></img>
	</div>
	Hello! I'm versatile ambitious Software Engineer with 10+ yearss of experience (mostly gamedev). 
	The specifics of the industry set high requirements to versatile skills, being a game developer, 
	one can hardly work in a single area of expertice. 
	Software Developer, Game Developer, Tools Developer, Render Engineer, Procedural Generation,
	VFX Devloper, Problem Solver,
	gui from scratch (why and how), google partnership, low-level implementation 
	custom rendering, light-transport simulation, postprocesssing, particles, time,
	leading, recruting
</div>
<footer class="header">
	<p>Author: Aleksei Ystyr Andreev</p>
	<p>Â© All rights reserved</p>
	<p><a href="mailto:ravenametr@gmail.com">ravenametr@gmail.com</a></p>
</footer>

</body>
</html>
